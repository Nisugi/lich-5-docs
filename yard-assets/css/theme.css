/* Dark theme for YARD documentation */

/* Theme toggle button */
#theme-toggle {
  background: none;
  border: 1px solid #666;
  border-radius: 4px;
  padding: 4px 10px;
  cursor: pointer;
  font-size: 13px;
  margin-left: 15px;
  color: inherit;
  transition: all 0.2s ease;
}

#theme-toggle:hover {
  background: rgba(128, 128, 128, 0.2);
}

/* Dark theme styles */
[data-theme="dark"] {
  --bg-primary: #1a1a2e;
  --bg-secondary: #16213e;
  --bg-tertiary: #0f3460;
  --text-primary: #e8e8e8;
  --text-secondary: #b8b8b8;
  --text-muted: #888;
  --link-color: #5dade2;
  --link-hover: #85c1e9;
  --border-color: #333;
  --code-bg: #0d1117;
  --code-border: #30363d;
  --highlight-bg: #1f2937;
}

/* Root element backgrounds - critical for frames */
html[data-theme="dark"],
html[data-theme="dark"] body,
body[data-theme="dark"] {
  background-color: var(--bg-primary) !important;
  color: var(--text-primary) !important;
}

[data-theme="dark"] #content {
  background-color: var(--bg-primary) !important;
}

/* Table of Contents */
[data-theme="dark"] #toc,
[data-theme="dark"] .toc,
[data-theme="dark"] #table_of_contents {
  background-color: var(--bg-primary) !important;
  border-color: var(--border-color) !important;
}

[data-theme="dark"] #toc h2,
[data-theme="dark"] .toc h2,
[data-theme="dark"] #table_of_contents h2 {
  color: var(--text-primary) !important;
  background-color: var(--bg-primary) !important;
}

[data-theme="dark"] #toc a,
[data-theme="dark"] .toc a {
  color: var(--link-color) !important;
}

[data-theme="dark"] #toc a:hover,
[data-theme="dark"] .toc a:hover {
  color: var(--link-hover) !important;
}

[data-theme="dark"] #toc li,
[data-theme="dark"] .toc li,
[data-theme="dark"] #toc ol,
[data-theme="dark"] .toc ol {
  background-color: transparent !important;
}

[data-theme="dark"] .docstring,
[data-theme="dark"] .discussion,
[data-theme="dark"] .note,
[data-theme="dark"] .todo {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
}

[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] .title {
  color: var(--text-primary) !important;
}

[data-theme="dark"] a {
  color: var(--link-color) !important;
}

[data-theme="dark"] a:hover {
  color: var(--link-hover) !important;
}

[data-theme="dark"] pre,
[data-theme="dark"] code,
[data-theme="dark"] .source_code {
  background-color: var(--code-bg) !important;
  border-color: var(--code-border) !important;
  color: #c9d1d9 !important;
}

[data-theme="dark"] pre.code {
  background-color: var(--code-bg) !important;
}

/* Sidebar - comprehensive targeting */
[data-theme="dark"] #menu,
[data-theme="dark"] .menu,
[data-theme="dark"] nav,
[data-theme="dark"] #full_list,
[data-theme="dark"] .full_list,
[data-theme="dark"] #full_list_content,
[data-theme="dark"] .sidebar,
[data-theme="dark"] #class_list,
[data-theme="dark"] #file_list,
[data-theme="dark"] #method_list {
  background-color: var(--bg-secondary) !important;
  color: var(--text-secondary) !important;
}

/* Sidebar header */
[data-theme="dark"] #menu h1,
[data-theme="dark"] .menu h1,
[data-theme="dark"] #full_list h1 {
  color: var(--text-primary) !important;
  background-color: var(--bg-secondary) !important;
}

/* Tree structure */
[data-theme="dark"] .objects,
[data-theme="dark"] .objects li,
[data-theme="dark"] #menu li,
[data-theme="dark"] .menu li,
[data-theme="dark"] #full_list li {
  background-color: transparent !important;
}

[data-theme="dark"] .objects li:hover,
[data-theme="dark"] #menu li:hover,
[data-theme="dark"] #full_list li:hover,
[data-theme="dark"] #full_list li.clicked {
  background-color: var(--bg-tertiary) !important;
}

/* Sidebar links */
[data-theme="dark"] .objects a,
[data-theme="dark"] #menu a,
[data-theme="dark"] .menu a,
[data-theme="dark"] #full_list a {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] .objects a:hover,
[data-theme="dark"] #menu a:hover,
[data-theme="dark"] .menu a:hover,
[data-theme="dark"] #full_list a:hover,
[data-theme="dark"] #full_list li.clicked > a {
  color: var(--link-color) !important;
}

/* Type indicators (< Object, etc) */
[data-theme="dark"] .objects small,
[data-theme="dark"] #menu small,
[data-theme="dark"] #full_list small {
  color: var(--text-muted) !important;
}

/* Toggle arrows */
[data-theme="dark"] .toggle,
[data-theme="dark"] .arrow {
  color: var(--text-muted) !important;
}

/* Search box */
[data-theme="dark"] #search,
[data-theme="dark"] .search {
  background-color: var(--bg-secondary) !important;
}

[data-theme="dark"] #search input,
[data-theme="dark"] .search input,
[data-theme="dark"] input[type="search"],
[data-theme="dark"] input[type="text"] {
  background-color: var(--bg-primary) !important;
  border-color: var(--border-color) !important;
  color: var(--text-primary) !important;
}

/* Search results dropdown */
[data-theme="dark"] #search_results,
[data-theme="dark"] .search_results {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
}

[data-theme="dark"] #search_results li,
[data-theme="dark"] .search_results li {
  background-color: transparent !important;
}

[data-theme="dark"] #search_results li:hover,
[data-theme="dark"] .search_results li:hover {
  background-color: var(--bg-tertiary) !important;
}

/* Tables - comprehensive dark styling */
[data-theme="dark"] table {
  border-color: var(--border-color) !important;
  background-color: var(--bg-primary) !important;
}

[data-theme="dark"] table th,
[data-theme="dark"] table thead th,
[data-theme="dark"] table thead td,
[data-theme="dark"] thead {
  background-color: #1e3a5f !important;
  background: #1e3a5f !important;
  color: var(--text-primary) !important;
  border-color: var(--border-color) !important;
}

[data-theme="dark"] table td,
[data-theme="dark"] table tbody td {
  background-color: var(--bg-primary) !important;
  border-color: var(--border-color) !important;
  color: var(--text-secondary) !important;
}

[data-theme="dark"] table tr,
[data-theme="dark"] table tbody tr {
  background-color: var(--bg-primary) !important;
}

[data-theme="dark"] table tr:nth-child(even),
[data-theme="dark"] table tbody tr:nth-child(even),
[data-theme="dark"] table tr:nth-child(even) td {
  background-color: var(--bg-secondary) !important;
}

[data-theme="dark"] table tr:hover,
[data-theme="dark"] table tbody tr:hover {
  background-color: var(--bg-tertiary) !important;
}

[data-theme="dark"] table tr:hover td {
  background-color: var(--bg-tertiary) !important;
}

/* Method/class boxes */
[data-theme="dark"] .method_details,
[data-theme="dark"] .box_info {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
}

[data-theme="dark"] .method_details_list .method_details {
  border-color: var(--border-color) !important;
}

[data-theme="dark"] .signature {
  background-color: var(--highlight-bg) !important;
  border-color: var(--border-color) !important;
}

/* Summary sections */
[data-theme="dark"] .summary_signature {
  background-color: var(--bg-secondary) !important;
}

[data-theme="dark"] .summary_desc {
  color: var(--text-secondary) !important;
}

/* Constant summary */
[data-theme="dark"] .constants_summary {
  background-color: var(--bg-secondary) !important;
}

/* Quick nav bar */
[data-theme="dark"] #quick-nav {
  background: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
}

[data-theme="dark"] #quick-nav a {
  color: var(--link-color) !important;
}

/* Breadcrumbs */
[data-theme="dark"] #filecontents {
  color: var(--text-primary) !important;
}

/* File listing badges on index page */
[data-theme="dark"] .alpha_listing a,
[data-theme="dark"] .file_listing a,
[data-theme="dark"] #content .r1 a,
[data-theme="dark"] #content .r2 a,
[data-theme="dark"] .index_list a,
[data-theme="dark"] p.children a {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
  color: var(--link-color) !important;
}

[data-theme="dark"] .alpha_listing a:hover,
[data-theme="dark"] .file_listing a:hover,
[data-theme="dark"] #content .r1 a:hover,
[data-theme="dark"] #content .r2 a:hover,
[data-theme="dark"] .index_list a:hover,
[data-theme="dark"] p.children a:hover {
  background-color: var(--bg-tertiary) !important;
  color: var(--link-hover) !important;
}

/* Index page sections */
[data-theme="dark"] .index_listing,
[data-theme="dark"] #listing,
[data-theme="dark"] .objects_filtered {
  background-color: var(--bg-primary) !important;
}

/* Box/badge style links */
[data-theme="dark"] .box a,
[data-theme="dark"] .children a,
[data-theme="dark"] .alpha a {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
}

/* Definition lists */
[data-theme="dark"] dt,
[data-theme="dark"] dd {
  background-color: transparent !important;
  color: var(--text-secondary) !important;
}

/* Inline labels and badges */
[data-theme="dark"] .label,
[data-theme="dark"] .badge,
[data-theme="dark"] .tag,
[data-theme="dark"] .visibility {
  background-color: var(--bg-tertiary) !important;
  color: var(--text-primary) !important;
}

/* Info/note boxes */
[data-theme="dark"] .note_box,
[data-theme="dark"] .info_box,
[data-theme="dark"] .warning_box,
[data-theme="dark"] .deprecated {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
}

/* Blockquotes */
[data-theme="dark"] blockquote {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
  color: var(--text-secondary) !important;
}

/* Lists */
[data-theme="dark"] ul,
[data-theme="dark"] ol {
  background-color: transparent !important;
}

/* Inline code */
[data-theme="dark"] code.inline,
[data-theme="dark"] tt,
[data-theme="dark"] kbd {
  background-color: var(--code-bg) !important;
  color: #c9d1d9 !important;
}

/* All remaining YARD specific elements */
[data-theme="dark"] .r1,
[data-theme="dark"] .r2,
[data-theme="dark"] .item,
[data-theme="dark"] .clearfix,
[data-theme="dark"] .wrap {
  background-color: transparent !important;
}

/* Namespace listing on index */
[data-theme="dark"] .namespace_listing,
[data-theme="dark"] .top_namespace {
  background-color: transparent !important;
}

/* Ensure paragraphs in content are transparent */
[data-theme="dark"] #content p,
[data-theme="dark"] #filecontents p {
  background-color: transparent !important;
}

/* Syntax highlighting adjustments for dark mode */
[data-theme="dark"] .source_code .info.file {
  color: var(--text-muted) !important;
}

[data-theme="dark"] .highlight .k,
[data-theme="dark"] .highlight .kd,
[data-theme="dark"] .highlight .kn {
  color: #ff79c6 !important;
}

[data-theme="dark"] .highlight .s,
[data-theme="dark"] .highlight .s1,
[data-theme="dark"] .highlight .s2 {
  color: #f1fa8c !important;
}

[data-theme="dark"] .highlight .c,
[data-theme="dark"] .highlight .c1 {
  color: #6272a4 !important;
}

[data-theme="dark"] .highlight .n,
[data-theme="dark"] .highlight .nb {
  color: #8be9fd !important;
}

[data-theme="dark"] .highlight .nf {
  color: #50fa7b !important;
}

[data-theme="dark"] .highlight .nc {
  color: #8be9fd !important;
}

/* Inherited methods list */
[data-theme="dark"] .inheritence_list {
  background-color: var(--bg-secondary) !important;
}

/* Includes section */
[data-theme="dark"] .includes {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
}

/* Defined in section */
[data-theme="dark"] .defined_in,
[data-theme="dark"] .defines,
[data-theme="dark"] .box_info,
[data-theme="dark"] .docstring-only,
[data-theme="dark"] dl.box {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
  color: var(--text-muted) !important;
}

/* Expand/collapse buttons */
[data-theme="dark"] .summary_toggle,
[data-theme="dark"] .toggleSource,
[data-theme="dark"] .showSource,
[data-theme="dark"] a.toggle,
[data-theme="dark"] .collapse,
[data-theme="dark"] .expand,
[data-theme="dark"] span.showSource,
[data-theme="dark"] span.toggleSource {
  background-color: var(--bg-tertiary) !important;
  border-color: var(--border-color) !important;
  color: var(--link-color) !important;
}

[data-theme="dark"] .summary_toggle:hover,
[data-theme="dark"] a.toggle:hover {
  background-color: var(--bg-secondary) !important;
  color: var(--link-hover) !important;
}

/* Method summary badges/links */
[data-theme="dark"] .summary_signature a,
[data-theme="dark"] .method_summary a,
[data-theme="dark"] ul.summary a,
[data-theme="dark"] .summary a {
  background-color: var(--bg-secondary) !important;
  border-color: var(--border-color) !important;
  color: var(--link-color) !important;
}

[data-theme="dark"] .summary_signature a:hover,
[data-theme="dark"] .method_summary a:hover,
[data-theme="dark"] ul.summary a:hover {
  background-color: var(--bg-tertiary) !important;
}

/* Scroll bar for dark mode */
[data-theme="dark"] ::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

[data-theme="dark"] ::-webkit-scrollbar-track {
  background: var(--bg-primary);
}

[data-theme="dark"] ::-webkit-scrollbar-thumb {
  background: #444;
  border-radius: 5px;
}

[data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
  background: #555;
}
