<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Lich::Main::ArgvOptions::SideEffects
  
    &mdash; Lich 5 Documentation
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Lich::Main::ArgvOptions::SideEffects";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Lich.html" title="Lich (module)">Lich</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Main.html" title="Lich::Main (module)">Main</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../ArgvOptions.html" title="Lich::Main::ArgvOptions (module)">ArgvOptions</a></span></span>
     &raquo; 
    <span class="title">SideEffects</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Lich::Main::ArgvOptions::SideEffects
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>documented/main/argv_options.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Module for handling side effects of command line options This module applies side effects based on the parsed options.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#execute-class_method" title="execute (class method)">.<strong>execute</strong>(argv_options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#handle_detachable_client-class_method" title="handle_detachable_client (class method)">.<strong>handle_detachable_client</strong>(argv_options)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handles the detachable client option from command line arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#handle_hosts_dir-class_method" title="handle_hosts_dir (class method)">.<strong>handle_hosts_dir</strong>(argv_options)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handles the hosts directory option from command line arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#handle_sal_launch-class_method" title="handle_sal_launch (class method)">.<strong>handle_sal_launch</strong>(argv_options)  &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handles launching the SAL file if specified in options.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="execute-class_method">
  
    .<strong>execute</strong>(argv_options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


248
249
250
251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'documented/main/argv_options.rb', line 248</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_execute'>execute</span><span class='lparen'>(</span><span class='id identifier rubyid_argv_options'>argv_options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_handle_hosts_dir'>handle_hosts_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_argv_options'>argv_options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_handle_detachable_client'>handle_detachable_client</span><span class='lparen'>(</span><span class='id identifier rubyid_argv_options'>argv_options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_handle_sal_launch'>handle_sal_launch</span><span class='lparen'>(</span><span class='id identifier rubyid_argv_options'>argv_options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_argv_options'>argv_options</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handle_detachable_client-class_method">
  
    .<strong>handle_detachable_client</strong>(argv_options)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This method modifies the argv_options hash.</p>
</div>
  </div>

<p class="note returns_void">This method returns an undefined value.</p>
<p>Handles the detachable client option from command line arguments.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>argv_options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The parsed command line options.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


279
280
281
282
283
284
285
286
287</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'documented/main/argv_options.rb', line 279</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_handle_detachable_client'>handle_detachable_client</span><span class='lparen'>(</span><span class='id identifier rubyid_argv_options'>argv_options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:detachable_client_host</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:detachable_client_port</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\-\-detachable\-client=[0-9]+$</span><span class='regexp_end'>/</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:detachable_client_port</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\-\-detachable\-client=([0-9]+)$</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'><span class='object_link'><a href="../../../top-level-namespace.html#match-instance_method" title="#match (method)">match</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_captures'>captures</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\-\-detachable\-client=((?:\d{1,3}\.){3}\d{1,3}):([0-9]{1,5})$</span><span class='regexp_end'>/</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:detachable_client_host</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:detachable_client_port</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\-\-detachable\-client=((?:\d{1,3}\.){3}\d{1,3}):([0-9]{1,5})$</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'><span class='object_link'><a href="../../../top-level-namespace.html#match-instance_method" title="#match (method)">match</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_captures'>captures</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handle_hosts_dir-class_method">
  
    .<strong>handle_hosts_dir</strong>(argv_options)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This method modifies the argv_options hash.</p>
</div>
  </div>

<p class="note returns_void">This method returns an undefined value.</p>
<p>Handles the hosts directory option from command line arguments.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>argv_options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The parsed command line options.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


259
260
261
262
263
264
265
266
267
268
269
270
271
272
273</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'documented/main/argv_options.rb', line 259</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_handle_hosts_dir'>handle_hosts_dir</span><span class='lparen'>(</span><span class='id identifier rubyid_argv_options'>argv_options</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>--hosts-dir</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_index'>index</span><span class='lparen'>(</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_delete_at'>delete_at</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_hosts_dir'>hosts_dir</span> <span class='op'>=</span> <span class='const'>ARGV</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='const'>ARGV</span><span class='period'>.</span><span class='id identifier rubyid_delete_at'>delete_at</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_hosts_dir'>hosts_dir</span> <span class='op'>&amp;&amp;</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_hosts_dir'>hosts_dir</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_hosts_dir'>hosts_dir</span> <span class='op'>=</span> <span class='id identifier rubyid_hosts_dir'>hosts_dir</span><span class='period'>.</span><span class='id identifier rubyid_tr'>tr</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\\</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_hosts_dir'>hosts_dir</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_hosts_dir'>hosts_dir</span><span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:hosts_dir</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_hosts_dir'>hosts_dir</span>
    <span class='kw'>else</span>
      <span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>warning: given hosts directory does not exist: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_hosts_dir'>hosts_dir</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handle_sal_launch-class_method">
  
    .<strong>handle_sal_launch</strong>(argv_options)  &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This method may exit the program if the SAL file does not exist.</p>
</div>
  </div>

<p class="note returns_void">This method returns an undefined value.</p>
<p>Handles launching the SAL file if specified in options.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>argv_options</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../Hash.html" title="Hash (class)">Hash</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The parsed command line options.</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'documented/main/argv_options.rb', line 293</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_handle_sal_launch'>handle_sal_launch</span><span class='lparen'>(</span><span class='id identifier rubyid_argv_options'>argv_options</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:sal</span><span class='rbracket'>]</span>

  <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:sal</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../../../Lich.html" title="Lich (module)">Lich</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="../../../Lich.html#log-class_method" title="Lich.log (method)">log</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error: launch file does not exist: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:sal</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='const'><span class='object_link'><a href="../../../Lich.html" title="Lich (module)">Lich</a></span></span><span class='period'>.</span><span class='id identifier rubyid_msgbox'><span class='object_link'><a href="../../../Lich.html#msgbox-class_method" title="Lich.msgbox (method)">msgbox</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error: launch file does not exist: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:sal</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_exit'>exit</span>
  <span class='kw'>end</span>
  <span class='const'><span class='object_link'><a href="../../../Lich.html" title="Lich (module)">Lich</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="../../../Lich.html#log-class_method" title="Lich.log (method)">log</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>info: launch file: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:sal</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>if</span> <span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:sal</span><span class='rbracket'>]</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>SGE\.sal</span><span class='regexp_end'>/i</span></span>
    <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_launcher_cmd'>launcher_cmd</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Lich.html" title="Lich (module)">Lich</a></span></span><span class='period'>.</span><span class='id identifier rubyid_get_simu_launcher'><span class='object_link'><a href="../../../Lich.html#get_simu_launcher-class_method" title="Lich.get_simu_launcher (method)">get_simu_launcher</a></span></span><span class='rparen'>)</span>
      <span class='gvar'>$stdout</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>error: failed to find the Simutronics launcher</span><span class='tstring_end'>&#39;</span></span>
      <span class='const'><span class='object_link'><a href="../../../Lich.html" title="Lich (module)">Lich</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="../../../Lich.html#log-class_method" title="Lich.log (method)">log</a></span></span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>error: failed to find the Simutronics launcher</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_exit'>exit</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_launcher_cmd'>launcher_cmd</span><span class='period'>.</span><span class='id identifier rubyid_sub!'>sub!</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%1</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_argv_options'>argv_options</span><span class='lbracket'>[</span><span class='symbol'>:sal</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../../../Lich.html" title="Lich (module)">Lich</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="../../../Lich.html#log-class_method" title="Lich.log (method)">log</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>info: launcher_cmd: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_launcher_cmd'>launcher_cmd</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../Win32.html" title="Win32 (module)">Win32</a></span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_launcher_cmd'>launcher_cmd</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^&quot;(.*?)&quot;\s*(.*)$</span><span class='regexp_end'>/</span></span>
      <span class='id identifier rubyid_dir_file'>dir_file</span> <span class='op'>=</span> <span class='backref'>$1</span>
      <span class='id identifier rubyid_param'>param</span> <span class='op'>=</span> <span class='backref'>$2</span>
      <span class='id identifier rubyid_dir'>dir</span> <span class='op'>=</span> <span class='id identifier rubyid_dir_file'>dir_file</span><span class='period'>.</span><span class='id identifier rubyid_slice'>slice</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^.*[\\\/]</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_file'>file</span> <span class='op'>=</span> <span class='id identifier rubyid_dir_file'>dir_file</span><span class='period'>.</span><span class='id identifier rubyid_sub'>sub</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^.*[\\\/]</span><span class='regexp_end'>/</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_operation'>operation</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../Win32.html" title="Win32 (module)">Win32</a></span></span><span class='period'>.</span><span class='id identifier rubyid_isXP?'><span class='object_link'><a href="../../../Win32.html#isXP%3F-class_method" title="Win32.isXP? (method)">isXP?</a></span></span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>open</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>runas</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='const'><span class='object_link'><a href="../../../Win32.html" title="Win32 (module)">Win32</a></span></span><span class='period'>.</span><span class='const'>ShellExecute</span><span class='lparen'>(</span><span class='label'>lpOperation:</span> <span class='id identifier rubyid_operation'>operation</span><span class='comma'>,</span> <span class='label'>lpFile:</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='label'>lpDirectory:</span> <span class='id identifier rubyid_dir'>dir</span><span class='comma'>,</span> <span class='label'>lpParameters:</span> <span class='id identifier rubyid_param'>param</span><span class='rparen'>)</span>
      <span class='const'><span class='object_link'><a href="../../../Lich.html" title="Lich (module)">Lich</a></span></span><span class='period'>.</span><span class='id identifier rubyid_log'><span class='object_link'><a href="../../../Lich.html#log-class_method" title="Lich.log (method)">log</a></span></span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>error: Win32.ShellExecute returned </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_r'>r</span><span class='embexpr_end'>}</span><span class='tstring_content'>; Win32.GetLastError: </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../../Win32.html" title="Win32 (module)">Win32</a></span></span><span class='period'>.</span><span class='const'>GetLastError</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_r'>r</span> <span class='op'>&lt;</span> <span class='int'>33</span>
    <span class='kw'>elsif</span> <span class='kw'>defined?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../Wine.html" title="Wine (module)">Wine</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../../Wine.html" title="Wine (module)">Wine</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Wine.html#BIN-constant" title="Wine::BIN (constant)">BIN</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_launcher_cmd'>launcher_cmd</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='id identifier rubyid_launcher_cmd'>launcher_cmd</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_exit'>exit</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Jan 13 02:35:05 2026 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.38 (ruby-3.2.9).
</div>

    </div>
  </body>
</html>